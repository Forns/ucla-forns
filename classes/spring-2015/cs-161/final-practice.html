
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <title>Andrew Forney - UCLA CS</title>
    <link href="../../../css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="../../../css/magic-bootstrap.css" rel="stylesheet" type="text/css">
    <link href="../../../css/main.css" rel="stylesheet" type="text/css">
    <script src="../../../js/lib/jquery-2.0.3.min.js"></script>
    <script src="../../../js/lib/bootstrap.min.js"></script>
    <script src="../../../js/lib/expanding.js"></script>
    <script src="../../../js/display/general/general-display.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script type="text/javascript" src="../../../js/display/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  </head>
  
  <body data-spy="scroll" data-target="#scrollspy">
    
    <!-- BEGIN WRAP -->
    <div id="wrap">
      
      <!-- BEGIN NAVIGATION -->
      <nav class='navbar navbar-default' role='navigation'>
        <div class='nav-accent'></div>
        <div class='container'>
          <div class='row'>
            <div class='col-md-12'>
              <div class='navbar-header'>
                <button class='navbar-toggle' type='button' data-toggle='collapse' data-target='.navbar-main-collapse'>
                  <span class='sr-only'>Toggle Navigation</span>
                  <span class='icon-bar'></span>
                  <span class='icon-bar'></span>
                  <span class='icon-bar'></span>
                </button>
                <a class='navbar-brand' href='/~forns/'>
                  <span id='brand-text'>
                    Andrew Forney
                  </span>
                </a>
              </div>
              
              <div id='nav-main' class='collapse navbar-collapse navbar-main-collapse'>
                <ul class='nav navbar-nav navbar-right'>
                  
                  <li>
                    <a href='/~forns/about.html'>
                      <div class='text-center'>
                        <span class='glyphicon glyphicon-user'></span>
                      </div>
                      <p class='text-center'>About</p>
                    </a>
                  </li>
                  
                  <li class='active'>
                    <a href='/~forns/classes.html'>
                      <div class='text-center'>
                        <span class='glyphicon glyphicon-book'></span>
                      </div>
                      <p class='text-center'>Classes</p>
                    </a>
                  </li>
                  
                  <li>
                    <a href='/~forns/contact.html'>
                      <div class='text-center'>
                        <span class='glyphicon glyphicon-comment'></span>
                      </div>
                      <p class='text-center'>Contact</p>
                    </a>
                  </li>
                  
                  <li>
                    <a href='/~forns/publications.html'>
                      <div class='text-center'>
                        <span class='glyphicon glyphicon-file'></span>
                      </div>
                      <p class='text-center'>Publications</p>
                    </a>
                  </li>
                  
                </ul>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <!-- END NAVIGATION -->
      
      <!-- MathJax CUSTOM DEFS -->
      <div class='hidden'>
        \(\def\independence{\perp\!\!\!\perp}\)
        \(\def\dependence{\perp\!\!\!\!\!/\!\!\!\!\!\perp}\)
      </div>
      
      <!-- BEGIN MAIN CONTENT -->
      <div id="main-content" class="container">
        <div class="row">
          
          <!-- BEGIN SCROLLSPY -->
          <div class='col-md-2 hidden-sm hidden-xs'>
            <div class="bs-sidebar hidden-print affix" role="complementary">
              <ul id='scrollspy' class="nav bs-sidenav">
              </ul>
            </div>
          </div>
          <!-- END SCROLLSPY -->
          
          <!-- BEGIN PRESENTATION CONTENT -->
          <div class='col-md-10 presentation-content' role='main'>
            
            <ol class="breadcrumb hidden-print">
              <li><a href="../../../classes.html">Classes</a></li>
              <li><a href="./cs-161.html">CS161</a></li>
              <li class="active">Final Practice</li>
            </ol>
            
            <div id='final' class='scrollspy-element' scrollspy-title='Final Practice'></div>
            <h1>Practice Problems</h1>
            <div>
              <p class='debug'><strong>Disclaimer</strong><br/>These practice problems are for your practice alone; I make no claims of their representation on the exam, or their relevance to exam material.
                Any and all exercises listed herein are simply my best guess of the type of problems you'll encounter and what you should be expected to perform on a test. They may or may not represent the
                difficulty of any question encountered on the exam.
              </p>
              <p class='definition'><strong>Note:</strong> since FOL inference was not on the midterm (as it usually is) you should also review the
                <a href='http://cs.ucla.edu/~forns/classes/winter-2015/cs-161/midterm-practice.html#fol'>inference examples from the practice midterm (click here)</a></p>
              <p>Here's a smattering of problems I think might be on the exam. Have at it, and let me know if you have any questions!</p>
            </div>
            <hr/>
            
            
            <br/>
            <div id='planning' class='scrollspy-element' scrollspy-title='Planning'></div>
            <h1>Planning Problems</h1>
            <div>
              <p class='example'>[BLOCKS 1] Try the following variant of the block-moving problem from the book, (page 371); determine what sequence of actions reaches the goal state from the initial state.</p>
              <br/>
              <p>As a reminder, this problem has blocks resting on a table surface, or on top of one another; the goal is to stack them in a particular order.</p>
              <p>In particular, we have the following FOL predicates:</p>
              <ul class='indent-1'>
                <li><p>Block(x): indicates that argument x is a block</p></li>
                <li><p>Clear(x): indicates that argument x can have something stacked on top of it</p></li>
                <li><p>On(b, x): indicates that argument b is stacked on top of argument x</p></li>
              </ul>
              <br/>
<pre class='prettyprint'>
  ; Move block b from x to y
  Action(Move(b, x, y)
    Preconditions:
      On(b, x) &and; Clear(b) &and; Clear(y) &and; 
      Block(b) &and; Block(y) &and;
      (b &ne; x) &and; (b &ne; y) &and; (x &ne; y)
    
    Effect:
      On(b, y) &and; Clear(x) &and; &not;On(b, x) &and; &not;Clear(y)
  )
  
  
  ; Move block b onto the table from x
  Action(MoveToTable(b, x)
    Predonditions:
      On(b, x) &and; Clear(b) &and; Block(b) &and; (b &ne; x)
      
    Effect:
      On(b, Table) &and; Clear(x) &and; &not;On(b, x)
  )
</pre>
              <br/>
              <p>Using the above actions, find an action sequence starting at the following initial state to the goal state:</p>
<pre class='prettyprint'>
  ; Constants:
  A, B, C, Table
  
  Init(
    On(A, Table) &and; On(B, Table) &and; On(C, A) &and;
    Block(A) &and; Block(B) &and; Block(C) &and; Clear(B) &and; Clear(C)
  )
  
  Goal(
    On(A, Table) &and; On(B, A) &and; On(C, B)
  )
</pre>
              <p class='question' name='planning-q0'>Click for solution.</p>
              <div class='answer' name='planning-q0'>
<pre class='prettyprint'>
  1. MoveToTable(C, A)
  2. Move(B, A)
  3. Move(C, B)
</pre>
              </div>
              <br/>
              
              <p>OK hotshot, that was too easy... but now that you're warmed up...</p>
              <br/>
              
              <p class='example'>[BLOCKS 2] Let's try the block moving problem, but add a degree of difficulty: now, there is only room on the table to hold 3 stacks of blocks, designated table spots T1, T2, T3. 
                We will also have to modify the actions:</p>
<pre class='prettyprint'>
  ; Move block b from x to y
  ; [!] NOTE: x and y may now be table slots, which
  ; also have Clear predicate designators if a block
  ; may be placed upon them
  Action(Move(b, x, y)
    Preconditions:
      On(b, x) &and; Clear(b) &and; Clear(y) &and; 
      Block(b) &and;
      (b &ne; x) &and; (b &ne; y) &and; (x &ne; y)
    
    Effect:
      On(b, y) &and; Clear(x) &and; &not;On(b, x) &and; &not;Clear(y)
  )
</pre>
              <p>Using the above action and initial state:</p>
<pre class='prettyprint'>
  ; Constants:
  A, B, C, D, E, T1, T2, T3
  
  Init(
    On(A, T1) &and; On(E, A) &and; On(C, T2) &and; On(B, C) &and; On(D, B) &and;
    Block(A) &and; Block(B) &and; Block(C) &and; Block(D) &and; Block(E) &and;
    Clear(D) &and; Clear(E) &and; Clear(T3)
  )
  
  Goal(
    On(A, T3) &and; On(B, A) &and; On(C, B) &and; On(D, C) &and; On(E, D)
  )
</pre>
              <p class='question' name='planning-q1'>Click for solution.</p>
              <div class='answer' name='planning-q1'>
<pre class='prettyprint'>
  1. Move(E, A, D)
  2. Move(A, T1, T3)
  3. Move(E, D, T1)
  4. Move(D, B, E)
  5. Move(B, C, A)
  6. Move(C, T2, B)
  7. Move(D, E, C)
  8. Move(E, T1, D)
  
  ; ...great, I invented the Blocks of Hanoi...
</pre>
              </div>
              <hr/>
              <br/>
              
              <p>Alright that was a little obnoxious and grueling... so why not aim for more obnoxious and grueling with a planning graph?</p>
              <p>Your book starts the planning graph for the Tire Changing problem, but doesn't show some mutex connections... why don't we complete them?</p>
              <br/>
              <p class='example'>Follow the planning graph for the tire changing problem up to State level S1:</p>
<pre class='prettyprint'>
  ; Constants:
  Flat, Spare, Axle, Trunk, Ground
  
  Init(Tire(Flat) &and; Tire(Spare) &and; At(Flat, Axle) &and; At(Spare, Trunk))
  Goal(At(Spare, Axle))
  
  Action(Remove(obj, loc),
    Preconditions:
      At(obj, loc)
    Effect:
      &not;At(obj, loc) &and; At(obj, Ground)
  )
  
  Action(PutOn(t, Axle),
    Preconditions:
      Tire(t) &and; At(t, Ground) &and; &not;At(Flat, Axle)
    Effect:
      &not;At(t, Ground) &and; At(t, Axle)
  )
      
  Action(LeaveOvernight(),
    Preconditions:
    Effect: &not;At(Spare, Ground) &and; &not;At(Spare, Axle) &and; &not;At(Spare, Trunk) &and;
            &not;At(Flat, Ground) &and; &not;At(Flat, Axle) &and; &not;At(Flat, Trunk)
  )
</pre>
              <br/>
              <p class='example'>[TIRE 1] Step One: diagram the planning graph's initial state (HINT: remember to explicitly list the closed world assumptions!)</p>
              <p class='debug'>NOTE: For simplicity's sake, we will not model the Tire(x) nor the &not;At(Flat, Trunk) fluents, since those have no chance of changing.</p>
              <p class='question' name='planning-q2'>Click for solution.</p>
              <div class='answer' name='planning-q2'>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-0.PNG' />
                </div>
              </div>
              <br/>
              <br/>
              
              <p class='example'>[TIRE 2] Step Two: diagram the planning graph's first Action level, A0 (without mutex links, for now):</p>
              <p class='question' name='planning-q3'>Click for solution.</p>
              <div class='answer' name='planning-q3'>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-1.PNG' />
                </div>
              </div>
              <br/>
              <br/>
              
              <p class='example'>[TIRE 3] Step Three: add mutex links between actions in A0:</p>
              <p class='question' name='planning-q4'>Click for solution.</p>
              <div class='answer' name='planning-q4'>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-2.PNG' />
                </div>
              </div>
              <br/>
              <br/>
              
              <p class='example'>[TIRE 4] Step Four: diagram the second state level S1:</p>
              <p class='question' name='planning-q5'>Click for solution.</p>
              <div class='answer' name='planning-q5'>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-3.PNG' />
                </div>
              </div>
              <br/>
              <br/>
              
              <p class='example'>[TIRE 5] Step Five: add mutex links between fluents of state S1:</p>
              <p class='question' name='planning-q6'>Click for solution.</p>
              <div class='answer' name='planning-q6'>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-4.PNG' />
                </div>
              </div>
              <hr/>
              <br/>
              <br/>
              
              <p>How about a couple of nice, easy, conceptual questions after that?</p>
              <p class='question' name='planning-q7'>Under what condition does the planning graph stop generating new levels?</p>
              <p class='answer' name='planning-q7'>Two consecutive, identical state levels.</p>
              <br/>
              <p class='question' name='planning-q8'>If the planning graph &quot;levels off,&quot; the goal state's fluents exist in the final state level, and they are not mutex, are we guaranteed that a
                solution exists to the planning problem?</p>
              <p class='answer' name='planning-q8'>No! We are only guaranteed that a solution does *not* exist if our final state level does *not* contain the goal fluents.</p>
              <hr/>
              <br/>
              <br/>
              
              <p class='example'>[REGRESSION 1] Use regression planning to derive an action sequence that will attain the given goal state from the given initial state.</p>
              <p class='debug'><strong>Remember!</strong> For states \(g\) and actions \(a\)<br/>$$g' = (g - ADD(a)) \cup Preconditions(a)$$</p>
<pre class='prettyprint'>
  ; Constants:
  Andrew, Dyer, Charlotte
  
  ; Predicates:
  X(arg), Y(arg), Z(arg)
  
  ; Actions:
  Action(A(arg1, arg2, arg3)
    Pre:
      &not;X(arg1) &and; Y(arg2) &and; Z(arg3)
    Effect:
      Z(arg1)
  )
  
  Action(B(arg1)
    Pre:
      Z(arg1) &and; X(arg1)
    Effect:
      &not;Z(arg1) &and; Y(arg1)
  )
  
  Action(C(arg1)
    Pre:
      &not;X(arg1)
    Effect:
      X(arg1)
  )

  ; Initial state:
  Y(Andrew) &and; Z(Charlotte)
  
  ; Goal:
  Y(Dyer)
</pre>
              <br/>
              <p>You might find it convenient to fill out the following table to track your solution steps:</p>
              <table class='table table-striped table-bordered'>
                <thead>
                  <tr>
                    <th><p>g</p></th>
                    <th><p>Action</p></th>
                    <th><p>g'</p></th>
                    <th><p>Bindings &Theta;</p></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><p>(e.g.) &empty;</p></td>
                    <td><p>(e.g.) Test(Dyer)</p></td>
                    <td><p>(e.g.) Y(Andrew) &and; X(Charlotte)</p></td>
                    <td><p>(e.g.) {arg1 / Dyer}</p></td>
                  </tr>
                </tbody>
              </table>
              <br/>
              <p class='question' name='planning-q9'>Click for solution</p>
              <div class='answer' name='planning-q9'>
                <table class='table table-bordered'>
                  <thead>
                    <tr>
                      <th><p>g</p></th>
                      <th><p>Action</p></th>
                      <th><p>g'</p></th>
                      <th><p>Bindings &Theta;</p></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><p>&empty;</p></td>
                      <td><p>B(Dyer)</p></td>
                      <td><p>Z(Dyer) &and; X(Dyer)</p></td>
                      <td><p>{arg1 / Dyer}</p></td>
                    </tr>
                    <tr>
                      <td><p>Z(Dyer) &and; X(Dyer)</p></td>
                      <td><p>C(Dyer)</p></td>
                      <td><p>Z(Dyer)</p></td>
                      <td><p>{arg1 / Dyer}</p></td>
                    </tr>
                    <tr>
                      <td><p>Z(Dyer) &and; &not;X(Dyer)</p></td>
                      <td><p>A(Dyer, Actor1, Actor2)</p></td>
                      <td><p>&not;X(Dyer) &and; Y(Actor1) &and; Z(Actor2)</p></td>
                      <td><p>{arg1 / Dyer}</p></td>
                    </tr>
                    <tr>
                      <td><p>&not;X(Dyer) &and; Y(Actor1) &and; Z(Actor2)</p></td>
                      <td><p>STOP: Found subset of initial state</p></td>
                      <td><p>Y(Andrew) &and; Z(Charlotte)</p></td>
                      <td><p>{Actor1 / Andrew,<br/> Actor2 / Charlotte}</p></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <hr/>
            
            
            <br/>
            <div id='prob' class='scrollspy-element' scrollspy-title='Probability Calculus'></div>
            <h1>Probability Calculus</h1>
            <div>
              <p>Get your theorems and rules ready kids, it's probability time!</p>
              <p>Why don't we start with a cheat sheet on stuff you're going to need:</p>
<div class='well'>
  <p>Product Rule:</p>
  <p>\begin{eqnarray}
     Pr(A, B) &=& Pr(A | B) * Pr(B)\\
              &=& Pr(B | A) * Pr(A)
     \end{eqnarray}
  </p>
  <hr/>
  
  <p>Chain Rule (Recursive application of Product Rule):</p>
  <p>$$Pr(A, B, C) = Pr(A | B, C) * Pr(B | C) * Pr(C)$$</p>
  <hr/>
  
  <p>Law of Total Probability</p>
  <p>\begin{eqnarray}
       Pr(A) = \sum_{\forall b \in B} Pr(A | b) * Pr(b)
     \end{eqnarray}
  </p>
  <hr/>
  
  <p>Bayes' Conditioning</p>
  <p>$$Pr(A | B) = \frac{Pr(A, B)}{Pr(B)}$$</p>
  <hr/>
  
  <p>Bayes' Rule</p>
  <p>$$Pr(A | B) = \frac{Pr(B | A) * Pr(A)}{Pr(B)}$$</p>
</div>
              <br/>
              <p class='question' name='prob-q0'>[PROB1] If <strong>the product rule</strong> tells us that $$Pr(A, B) = Pr(A | B) * Pr(B)$$ ...then in the general case accounting for
                evidence E, can we say that $$Pr(A, B | E) \stackrel{?}{=} Pr(A | B, E) * Pr(B | E)$$</p>
              <p class='answer' name='prob-q0'>Yes! The property $$Pr(A, B | E) = Pr(A | B, E) * Pr(B | E)$$ is called <strong>the generalized product rule</strong> and is
                simply an application of the product rule (which is a special case of the chain rule). Remember that when we condition on E, we're holding it as observed evidence, which holds after
                we apply the produce rule to the joint on A and B.</p>
              <br/>
              
              <p class='question' name='prob-q1'>[PROB2] Prove the <strong>generalized Bayes Rule</strong> stating: $$Pr(A | B, E) = \frac{Pr(B | A, E) * Pr(A | E)}{Pr(B | E)}$$</p>
              <div class='answer' name='prob-q1'>
<p>\begin{eqnarray}
    Pr(A | B, E) &=& \frac{Pr(A, B, E)}{Pr(B, E)} \quad \text{Bayes Conditioning}\\
  
                 &=& \frac{Pr(B, A, E)}{Pr(B, E)} \quad \text{Rearranging for clarity}\\

                 &=& \frac{Pr(B | A, E) * Pr(A | E) * Pr(E)}{Pr(B | E) * Pr(E)} \quad \text{Chain Rule}\\
  
                 &=& \frac{Pr(B | A, E) * Pr(A | E)}{Pr(B | E)} \quad \text{Pr(E)s cancel out}
   \end{eqnarray}
</p>
              </div>
              
              <p class='question' name='prob-q11'>[PROB3] Assuming that: $$C \perp A$$ $$A \independence B | C$$ prove that $$Pr(A, B, C) = Pr(A) * Pr(B, C)$$</p>
              <div class='answer' name='prob-q11'>
<p>\begin{eqnarray}
     Pr(A, B, C) &=& Pr(B, A, C) \quad \text{Joints are rearrangeable}\\
                 &=& Pr(B | A, C) * Pr(A | C) * Pr(C) \quad \text{Chain Rule}\\
                 &=& Pr(B | C) * Pr(A) * Pr(C) \quad \text{Applying independence rules}\\
                 &=& Pr(A) * Pr(B | C) * Pr(C) \quad \text{Rearranging}\\
                 &=& Pr(A) * Pr(B, C) \quad \text{Product Rule}
   \end{eqnarray}
</p>
              </div>
              
              <hr/><br/>
              <p class='example'>Read the following problem description, and for each probability mentioned, formalize it into a Pr(x | y) statement (for example) and then solve for the correct quantity.
                Assume two binary variables: Test and Disease, as described by the problem.</p>
              <blockquote>
                A rare disease is found in about 2% of those tested for it. The test returns an end result that is either positive (Test) or negative (&not;Test). The problem is that the tests are not
                perfect such that 3% of people without the disease will test positive and 1% of people with the disease will test negative.<br/><br/>
                <strong>If a patient tests negative, what is the probability that they *DO NOT* have the disease?</strong>
              </blockquote>
              <br/>
              <p class='question' name='prob-q2'>Click for solution.</p>
              <div class='answer' name='prob-q2'>
<pre class='prettyprint'>
  ; Let D = Disease
  ;     T = Positive test
  
  Pr(D) = 0.02
  Pr(&not;D) = 0.98
  
  Pr(T | &not;D) = 0.03
  Pr(&not;T | &not;D) = 0.97
  
  Pr(&not;T | D) = 0.01
  Pr(T | D) = 0.99
  
  ; Law of Total Probability
  Pr(T) = &Sigma; Pr(T | d) * Pr(d)
        &forall;d&in;D
        = Pr(T | D) * Pr(D) + Pr(T | &not;D) * Pr(&not;D)
        = 0.99 * 0.02 + 0.03 * 0.98
        = 0.0492
  
  Pr(&not;T) = 1 - Pr(T)
         = 0.9508
  
  ; ------------------------------------------------
  
  ; Query:
  Pr(&not;D | &not;T)
  
  ; Bayes Theorem
  = [Pr(&not;T | &not;D) * Pr(&not;D)] / Pr(&not;T)
  = [0.97 * 0.98] / 0.9508
  = 0.99978965082
  
  ; Pretty good chance you do not have the disease
  ; if your test comes back negative!
</pre>
              </div>
              
              <hr/><br/>
              <p class='example'>Use the following joint probability distribution to compute the requested quantities.</p>
              <br/>
              <table class='table table-bordered table-striped'>
                <thead>
                  <tr>
                    <th><p>X</p></th>
                    <th><p>Y</p></th>
                    <th><p>Z</p></th>
                    <th><p>Pr(X, Y, Z)</p></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><p>0</p></td>
                    <td><p>0</p></td>
                    <td><p>0</p></td>
                    <td><p>0.10</p></td>
                  </tr>
                  <tr>
                    <td><p>0</p></td>
                    <td><p>0</p></td>
                    <td><p>1</p></td>
                    <td><p>0.12</p></td>
                  </tr>
                  <tr>
                    <td><p>0</p></td>
                    <td><p>1</p></td>
                    <td><p>0</p></td>
                    <td><p>0.25</p></td>
                  </tr>
                  <tr>
                    <td><p>0</p></td>
                    <td><p>1</p></td>
                    <td><p>1</p></td>
                    <td><p>0.15</p></td>
                  </tr>
                  <tr>
                    <td><p>1</p></td>
                    <td><p>0</p></td>
                    <td><p>0</p></td>
                    <td><p>0.18</p></td>
                  </tr>
                  <tr>
                    <td><p>1</p></td>
                    <td><p>0</p></td>
                    <td><p>1</p></td>
                    <td><p>0.05</p></td>
                  </tr>
                  <tr>
                    <td><p>1</p></td>
                    <td><p>1</p></td>
                    <td><p>0</p></td>
                    <td><p>0.13</p></td>
                  </tr>
                  <tr>
                    <td><p>1</p></td>
                    <td><p>1</p></td>
                    <td><p>1</p></td>
                    <td><p>0.02</p></td>
                  </tr>
                </tbody>
              </table>
              <br/>
              <p class='question' name='prob-q3'>What is Pr(X = 1)?</p>
              <div class='answer' name='prob-q3'>
<pre class='prettyprint'>
  Pr(X = 1) = 0.18 + 0.05 + 0.13 + 0.02
            = 0.38
</pre>
              </div>
              <br/>
              <p class='question' name='prob-q4'>What is Pr(X = 0, Y = 0)?</p>
              <div class='answer' name='prob-q4'>
<pre class='prettyprint'>
  Pr(X = 0, Y = 0) = 0.10 + 0.12
                   = 0.22
</pre>
              </div>
              <br/>
              <p class='question' name='prob-q5'>What is Pr(Z = 0, Y = 1 | X = 0)?</p>
              <div class='answer' name='prob-q5'>
                <table class='table table-bordered'>
                  <thead>
                    <tr>
                      <th><p>X</p></th>
                      <th><p>Y</p></th>
                      <th><p>Z</p></th>
                      <th><p>Pr(X, Y, Z)</p></th>
                      <th><p>Pr(Y, Z | X = 0)</p></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><p>0</p></td>
                      <td><p>0</p></td>
                      <td><p>0</p></td>
                      <td><p>0.10</p></td>
                      <td><p>0.10 / Pr(X = 0) = 0.10 / 0.62 = 0.161</p></td>
                    </tr>
                    <tr>
                      <td><p>0</p></td>
                      <td><p>0</p></td>
                      <td><p>1</p></td>
                      <td><p>0.12</p></td>
                      <td><p>0.12 / Pr(X = 0) = 0.194</p></td>
                    </tr>
                    <tr>
                      <td><p>0</p></td>
                      <td><p>1</p></td>
                      <td><p>0</p></td>
                      <td><p>0.25</p></td>
                      <td><p>0.25 / Pr(X = 0) = 0.403</p></td>
                    </tr>
                    <tr>
                      <td><p>0</p></td>
                      <td><p>1</p></td>
                      <td><p>1</p></td>
                      <td><p>0.15</p></td>
                      <td><p>0.15 / Pr(X = 0) = 0.242</p></td>
                    </tr>
                    <tr>
                      <td><p>1</p></td>
                      <td><p>0</p></td>
                      <td><p>0</p></td>
                      <td><p>0.18</p></td>
                      <td><p>0</p></td>
                    </tr>
                    <tr>
                      <td><p>1</p></td>
                      <td><p>0</p></td>
                      <td><p>1</p></td>
                      <td><p>0.05</p></td>
                      <td><p>0</p></td>
                    </tr>
                    <tr>
                      <td><p>1</p></td>
                      <td><p>1</p></td>
                      <td><p>0</p></td>
                      <td><p>0.13</p></td>
                      <td><p>0</p></td>
                    </tr>
                    <tr>
                      <td><p>1</p></td>
                      <td><p>1</p></td>
                      <td><p>1</p></td>
                      <td><p>0.02</p></td>
                      <td><p>0</p></td>
                    </tr>
                  </tbody>
                </table>
<pre class='prettyprint'>
  Pr(Z = 0, Y = 1 | X = 0) = 0.403
</pre>
              </div>
            </div>
            <hr/>
            
            
            <br/>
            <div id='bayesnet' class='scrollspy-element' scrollspy-title='Bayesian Networks'></div>
            <h1>Bayesian Networks</h1>
            <div>
              <p>Observe the structure of the following Bayesian Network and use it to answer the following questions about independence relations.</p>
              <br/>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-5.PNG' />
              </div>
              <br/>
              <p class='example'>[BN 1] List the Markovian assumptions implicit within the network.</p>
              <p class='question' name='bn-q0'>Click for solution.</p>
              <div class='answer' name='bn-q0'>
<pre class='prettyprint'>
  V &perp; S
  V &perp; B
  
  S &perp; V
  S &perp; T
  
  T &perp; C | V
  T &perp; S | V
  T &perp; B | V
  
  C &perp; T | V, S
  C &perp; B | V, S
  
  B &perp; V | S
  B &perp; T | S
  B &perp; C | S
  B &perp; O | S
  B &perp; X | S
  
  O &perp; V | T, C
  O &perp; S | T, C
  O &perp; B | T, C
  
  X &perp; V | O
  X &perp; S | O
  X &perp; T | O
  X &perp; C | O
  X &perp; B | O
  X &perp; D | O
  
  D &perp; V | O, B
  D &perp; S | O, B
  D &perp; T | O, B
  D &perp; C | O, B
  D &perp; X | O, B
</pre>
              </div>
              
              <br/>
              <p class='example'>[BN 2] Use the same Bayesian Network (replicated below for your scrolling convenience) to answer the following d-separation questions.</p>
              <br/>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-5.PNG' />
              </div>
              <br/>
              <table class='table table-bordered'>
                <thead>
                  <tr>
                    <th><p>X</p></th>
                    <th><p>Z</p></th>
                    <th><p>Y</p></th>
                    <th><p>d-sep(X, Z, Y)?</p></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><p>V</p></td>
                    <td><p>&empty;</p></td>
                    <td><p>S</p></td>
                    <td class='warning'><p>???</p></td>
                  </tr>
                  <tr>
                    <td><p>V</p></td>
                    <td><p>D</p></td>
                    <td><p>S</p></td>
                    <td class='warning'><p>???</p></td>
                  </tr>
                  <tr>
                    <td><p>T</p></td>
                    <td class='warning'><p>???</p></td>
                    <td><p>B</p></td>
                    <td><p>Yes!</p></td>
                  </tr>
                  <tr>
                    <td><p>T</p></td>
                    <td><p>C, S</p></td>
                    <td><p>B</p></td>
                    <td class='warning'><p>???</p></td>
                  </tr>
                  <tr>
                    <td><p>X</p></td>
                    <td><p>C</p></td>
                    <td><p>B</p></td>
                    <td class='warning'><p>???</p></td>
                  </tr>
                  <tr>
                    <td><p>V, B</p></td>
                    <td><p>T, C</p></td>
                    <td><p>X</p></td>
                    <td class='warning'><p>???</p></td>
                  </tr>
                  <tr>
                    <td><p>V</p></td>
                    <td class='warning'><p>T, C, ???</p></td>
                    <td><p>O</p></td>
                    <td><p>No!</p></td>
                  </tr>
                </tbody>
              </table>
              <br/>
              <p class='question' name='bn-q1'>Click for solution.</p>
              <div class='answer' name='bn-q1'>
                <p>* = multiple answers possible</p>
                <br/>
                <table class='table table-bordered'>
                  <thead>
                    <tr>
                      <th><p>X</p></th>
                      <th><p>Z</p></th>
                      <th><p>Y</p></th>
                      <th><p>d-sep(X, Z, Y)?</p></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><p>V</p></td>
                      <td><p>&empty;</p></td>
                      <td><p>S</p></td>
                      <td><p>Yes!</p></td>
                    </tr>
                    <tr>
                      <td><p>V</p></td>
                      <td><p>D</p></td>
                      <td><p>S</p></td>
                      <td><p>No! <code class='prettyprint'>V &rarr; C &larr; S</code></p></td>
                    </tr>
                    <tr>
                      <td><p>T</p></td>
                      <td><p>&empty;*</p></td>
                      <td><p>B</p></td>
                      <td><p>Yes!</p></td>
                    </tr>
                    <tr>
                      <td><p>T</p></td>
                      <td><p>C, S</p></td>
                      <td><p>B</p></td>
                      <td><p>Yes!</p></td>
                    </tr>
                    <tr>
                      <td><p>X</p></td>
                      <td><p>C</p></td>
                      <td><p>B</p></td>
                      <td><p>No! <code class='prettyprint'>X &larr; O &larr; T &larr; V &rarr; C &larr; S &rarr; B</code></p></td>
                    </tr>
                    <tr>
                      <td><p>V, B</p></td>
                      <td><p>T, C</p></td>
                      <td><p>X</p></td>
                      <td><p>Yes!</p></td>
                    </tr>
                    <tr>
                      <td><p>V</p></td>
                      <td><p>T, C, D</p></td>
                      <td><p>O</p></td>
                      <td><p>No! <code class='prettyprint'>V &rarr; C &larr; S &rarr; B &rarr; D &larr; O</code></p></td>
                    </tr>
                  </tbody>
                </table>
              </div>
              
              <hr/><br/>
              <p class='definition'>Two Bayesian Networks are said to be <strong>observationally equivalent</strong> if they exhibit the same independence and conditional independence
                relationships between variables.</p>
              <p class='example'>[BN 3] Are the following two models observationally equivalent?</p>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-6.PNG' />
              </div>
              <p class='question' name='bn-q6'>Click for solution.</p>
              <p class='answer' name='bn-q6'>Yes! A quick trick to decide if two models are observationally equivalent is to see if any colliders are created or destroyed by an edge inversion; if they *are*
                created or destroyed (at least one) then the two models will NOT be observationally equivalent.</p>
              <br/>
              <p class='example'>[BN 4] Are the following two models observationally equivalent?</p>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-7.PNG' />
              </div>
              <p class='question' name='bn-q7'>Click for solution.</p>
              <p class='answer' name='bn-q7'>No! See how we destroyed a collider at B &rarr; D &larr; C from the first model to the second?</p>
              
              <br/>
              <p class='definition'>A <strong>Markov Blanket</strong> for a node in a Bayesian Network (indicated BM(A) for node A) is the set of all nodes that, if given, render A independent from ALL other
                nodes in the network. A Markov Blanket consists of a node's parents, children, and spouses.</p>
              <br/>
              <p class='example'>Observe the following Bayesian Network and answer the following questions about Markov Blankets:</p>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-24.PNG' />
              </div>
              <br/>
              <p class='question' name='mb-q1'>[BN 5] What is the Markov Blanket for Node C?</p>
              <p class='answer' name='mb-q1'>{V, S, O, T}</p>
              <br/>
              <p class='question' name='mb-q2'>[BN 6] What is the Markov Blanket for Node O?</p>
              <p class='answer' name='mb-q2'>{T, C, X, D, B}</p>
              
              <hr/>
              <br/>
              <p class='example'>Compute Pr(S = 1 | A = 1) using the Bayesian Network and CPTs below.</p>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-8.PNG' />
              </div>
              <br/>
              <p class='question' name='bn-q8'>Click for solution.</p>
              <p class='answer' name='bn-q8'>By d-separation, we know that S &perp; A since C is not given, so:<br/>Pr(S = 1 | A = 1) = Pr(S = 1) = 0.3</p>
              
              <hr/><br/>
              <p class='example'>Use variable elimination to compute Pr(A = 1 | B = 0) with elimination order &Pi; = C, B, A. DO NOT construct the joint distribution.</p>
              <br/>
              <p>As a reminder, here are some &quot;at a glance&quot; steps to variable elimination:</p>
              <ol class='indent-1'>
                <li><p>Trim all nodes that are d-separated from the query.</p></li>
                <li><p>Zero-out CPT rows inconsistent with the evidence.</p></li>
                <li><p>Choose an elimination order (too complicated for CS161 -- we'll give you one)</p></li>
                <li><p>Iterate over all variables V in the elimination order, then multiply all tables / factors mentioning V into one giant factor, and summing out non-query variables.</p></li>
                <li><p>Repeat above step until we're only left with a factor over our query variables. Then, use the resultant factor to compute your target quantity.</p></li>
              </ol>
              <br/>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-9.PNG' />
              </div>
              <p class='question' name='bn-q9'>Click for solution.</p>
              <div class='answer' name='bn-q9'>
                <p><strong>Step 1:</strong> Trim node C from the network since A &perp; C | B</p>
                <p><strong>Step 2:</strong> Zero out the following rows inconsistent with evidence:</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-10.PNG' />
                </div>
                <p><strong>Step 3 (Done):</strong> &Pi; = C, B, A</p>
                <br/>
                <p><strong>Step 4a:</strong> Since C was trimmed, B is next in the elimination order, so multiply together all tables mentioning B (just the one) and sum it out.</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-11.PNG' />
                </div>
                <br/>
                <p>Remember, this term represents a <strong>factor</strong> so we do not normalize it yet.</p>
                <br/>
                <p><strong>Step 4b:</strong> A is next in the order, so multiply all the tables and factors mentioning A. Since it's our query, however, we do not sum it out.</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-12.PNG' />
                </div>
                <br/>
                <p><strong>Step 5:</strong> At this point we're left with a factor in terms of our query variables having accounted for evidence B = 0, but look at the quantity in our factor:</p>
<pre class='prettyprint'>
  &Sigma; Pr(B | A) * Pr(A)
  B
  
  ; Observe that this is equal to:
  = Pr(A, B)
  
  ; The joint marginal!
  ; So we still need to find
  Pr(A = 1 | B = 0) = ???
  
  ; But hark! We also know Pr(B = 0):
  Pr(B = 0) = Pr(A = 1, B = 0) + Pr(A = 0, B = 0)
            = 0.38
  
  ; Therefore:
  Pr(A = 1 | B = 0) = Pr(A = 1, B = 0) / Pr(B = 0)
                    = 0.06 / 0.38
                    = 0.1578
</pre>
                <br/>
                <p>We could verify this using the joint if we wanted to...</p>
              </div>
              <br/>
              <p>Whew! That one was intricate! But now that you know what you're doing... care to try it again? :)</p>
              <br/>
              <p class='example'>Read the following problem description and then compute the following quantity using variable elimination: Pr(C1 = 1 | J = 1, C2 = 1)</p>
              <blockquote>
                Remember our example about a bell ringing whenever 2 coins both came up the same (both heads or both tails)? Well, let's introduce a little noise into the system: Now, whenever both coin
                flips are the same, there is a 95% chance that the bell will ring, and a 5% chance that it will ring under all other scenarios. Furthermore, our butler, Jeeves, who is still hard of hearing,
                will come serve us tea 70% of the time the bell rings, and 10% of the time that it does not (&quot;Was that the bell I heard?! Maybe...&quot;). This scenario is represented by the Bayesian
                network and CPTs below.<br/><br/>
                <p><strong>
                  Given that Jeeves did indeed bring us tea (J = 1) and coin 2 came up heads (C2 = 1), what is the probability that coin 1 also came up heads?<br/><br/>
                  Choose Elimination order: C2, J, B, C1
                </strong></p>
              </blockquote>
              <br/>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-13.PNG' />
              </div>
              <br/>
              <p class='question' name='bn-q10'>Click for solution.</p>
              <div class='answer' name='bn-q10'>
                <p><strong>Step 1:</strong> No nodes to trim; all are dependent with the given evidence!</p>
                <p><strong>Step 2:</strong> Zero out the following rows inconsistent with evidence:</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-14.PNG' />
                </div>
                <p><strong>Step 3 (Done):</strong> &Pi; = C2, J, B, C1</p>
                <br/>
                <p><strong>Step 4a:</strong> Variable C2 on the chopping block first, so multiply all tables and factors mentioning it:</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-15.PNG' />
                </div>
                <br/>
                <p>...then, of course, sum out C2, giving us:</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-16.PNG' />
                </div>
                <br/>
                <p><strong>Step 4b:</strong> Variable J next on the chopping block, so multiply all tables and factors mentioning it. There's only one, so no multiplication, but then sum it out giving us:</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-17.PNG' />
                </div>
                <br/>
                <p><strong>Step 4c:</strong> Variable B next on the chopping block, so multiply all tables and factors mentioning it:</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-18.PNG' />
                </div>
                <br/>
                <p>...then, summing B out:</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-19.PNG' />
                </div>
                <br/>
                <p><strong>Step 4d:</strong> Almost there! Last up: multiply factors and tables containing C1:</p>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/final-20.PNG' />
                </div>
                <br/>
                <p>Alright... let's look at what we have here:</p>
<pre class='prettyprint'>
  ; Rearranging, our last factor is:
  &Sigma;  &Sigma;  &Sigma; Pr(B | C1, C2) * Pr(C2) * Pr(C1) * Pr(J | B)
  B  C2 J
  
  ; ...meaning our last factor is equivalent to:
  Pr(C1, J = 1, C2 = 1)
  
  ; ...well crap... that doesn't look like what I want
  
  ; Relax! We've already accounted for all of the evidence, and
  ; summed out everything irrelevant; to get our query quantity,
  ; we simply:
  Pr(C1 | J = 1, C2 = 1) = Pr(C1, J = 1, C2 = 1) / Pr(J = 1, C2 = 1)
  
  ; But what is Pr(J = 1, C2 = 1)?!
  ; Right there in our table, silly!
  Pr(J = 1, C2 = 1) = Pr(C1 = 1, J = 1, C2 = 1) + Pr(C1 = 0, J = 1, C2 = 1)
                    = 0.1675 + 0.0325
                    = 0.2
                    
  ; Therefore:
  Pr(C1 | J = 1, C2 = 1) = Pr(C1, J = 1, C2 = 1) / Pr(J = 1, C2 = 1)
                         = 0.1675 / 0.2
                         = 0.8375
</pre>
              </div>
              <br/>
              <p>If you weren't able to do that one, don't fret too much... I'm banking it's harder than what you'll see on the final but who knows!</p>
              <p>If you did get it, then high five! (yourself, since I'm not there, but picture that I am)</p>
              <p>For your hard work so far, here's something Bayesian related from Saturday Morning Breakfast Cereal:</p>
              <br/>
              <a href='http://www.smbc-comics.com/?id=3366#comic' target='_blank'>
                <div class='fit-pres text-center'>
                  <img src='../../../assets/images/spring-2014/cs-161/final/smbc-bayes.png' />
                </div>
              </a>
            </div>
            <hr/>
            
            
            <br/>
            <div id='decision' class='scrollspy-element' scrollspy-title='Decision Theory'></div>
            <h1>Decision Theory</h1>
            <div>
              <p class='example'>For each of the following sets of preferences and utility functions, determine if all preference axioms are satisfied and that the utilities abide by the preference ordering.</p>
              <br/>
<pre class='prettyprint'>
  ; Example 1:
  ; Preferences:
  
  A &gt; B
  B &gt; D
  E &gt; C
  D &gt; C
  B ~ C
</pre>
              <br/>
              <p class='question' name='bn-q11'>Click for solution.</p>
              <p class='answer' name='bn-q11'><strong>Transitivity</strong> axiom violated: B &gt; D &gt; C, but B ~ C, thus: B &gt; D &gt; B does not hold.</p>
              <br/>
<pre class='prettyprint'>
  ; Example 2:
  ; Preferences &amp; Utilities:
  
  A &gt; B
  B &ge; D
  E &gt; C
  B ~ C
  
  U(A) = 100
  U(B) = 50
  U(C) = 50
  U(D) = 50
  U(E) = 75
</pre>
              <br/>
              <p class='question' name='bn-q12'>Click for solution.</p>
              <p class='answer' name='bn-q12'>Yep, that's fine! ...not sure why I even included these examples...</p>
              
              <hr/><br/>
              <p class='example'>Compute the expected utility of actions 1 and 2 below; which has the maximum?</p>
<pre class='prettyprint'>
  ; Action 1 corresponds to L1:
  L1 = [0.01, S1; 0.50, S2; 0.25, L3; 0.24, L4]
  
  ; Action 2 corresponds to L2:
  L2 = [0.25, S2; 0.4, L4; 0.35, S3]
  
  L3 = [0.3, S4; 0.7, S5]
  L4 = [0.5, S2; 0.5, S3]
  
  ; Utilities:
  U(S1) = 100
  U(S2) = 10
  U(S3) = 5
  U(S4) = 3
  U(S5) = 1
</pre>
              <br/>
              <p class='question' name='bn-q13'>Click for solution.</p>
              <div class='answer' name='bn-q13'>
<pre class='prettyprint'>
  ; Since last time we showed how you can use
  ; decomposition to find the answer to these problems,
  ; let us now simply compute the expected utility of
  ; each lottery:
  
  EU(L3) = 0.3 * U(S4) + 0.7 * U(S5)
         = 0.3 * 3 + 0.7 * 1
         = 1.6
         
  EU(L4) = 0.5 * U(S2) + 0.5 * U(S3)
         = 0.5 * 10 + 0.5 * 5
         = 7.5
  
  EU(L1) = 0.01 * U(S1) + 0.5 * U(S2) + 0.25 * EU(L3) + 0.24 * EU(L4)
         = 0.01 * 100 + 0.5 * 10 + 0.25 * 1.6 + 0.24 * 7.5
         = 8.2
         
  EU(L2) = 0.25 * U(S2) + 0.4 * EU(L4) + 0.35 * U(S3)
         = 0.25 * 10 + 0.4 * 7.5 + 0.35 * 5
         = 7.25
         
  ; Therefore, we would prefer Action 1
</pre>
              </div>
              
              <hr/><br/>
              <p class='example'>
                Use the following decision network to determine which action (of two choices A1 and A2 for choice node D) is the most preferable <strong>given that X is observed to be 1</strong>.
                Assume the scoring function is mere addition between (probability) weighted utility values.
              </p>
              <br/>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-21.PNG' />
              </div>
              <br/>
              <p class='question' name='bn-q14'>Click for solution.</p>
              <div class='answer' name='bn-q14'>
<pre class='prettyprint'>
  ; Start by computing EU(A1)
  EU(A1) = Pr(Z = 0 | X = 1, D = A1) * U(Z = 0) +
           Pr(Z = 1 | X = 1, D = A1) * U(Z = 1) +
           Pr(Y = 0 | X = 1, D = A1) * U(Y = 0) +
           Pr(Y = 1 | X = 1, D = A1) * U(Y = 1)
         = 0.7 * 5 + 0.3 * 6 + 0.45 * 10 + 0.55 * 4
         = 12
  
  ; Next, A2
  EU(A2) = Pr(Z = 0 | X = 1, D = A2) * U(Z = 0) +
           Pr(Z = 1 | X = 1, D = A2) * U(Z = 1) +
           Pr(Y = 0 | X = 1, D = A2) * U(Y = 0) +
           Pr(Y = 1 | X = 1, D = A2) * U(Y = 1)
         = 0.4 * 5 + 0.6 * 6 + 0.2 * 10 + 0.8 * 4
         = 10.8
         
  ; Therefore, Action 1 is preferable
</pre>
              </div>
              
              <hr/><br/>
              <p class='example'>Use the following decision tree single-node splits to determine which has the least expected entropy for classification X.</p>
              <br/>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-22.PNG' />
              </div>
              <br/>
              <table class='table table-striped table-bordered'>
                <thead>
                  <tr>
                    <th><p>N = 100</p></th>
                    <th><p>A = 0</p></th>
                    <th><p>A = 1</p></th>
                    <th><p>B = 0</p></th>
                    <th><p>B = 1</p></th>
                    <th><p>C = 0</p></th>
                    <th><p>C = 1</p></th>
                    <th><p>C = 2</p></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th><p>X = yes</p></th>
                    <td><p>30</p></td>
                    <td><p>20</p></td>
                    <td><p>25</p></td>
                    <td><p>25</p></td>
                    <td><p>20</p></td>
                    <td><p>20</p></td>
                    <td><p>10</p></td>
                  </tr>
                  <tr>
                    <th><p>X = no</p></th>
                    <td><p>40</p></td>
                    <td><p>10</p></td>
                    <td><p>35</p></td>
                    <td><p>15</p></td>
                    <td><p>15</p></td>
                    <td><p>15</p></td>
                    <td><p>20</p></td>
                  </tr>
                  <tr>
                    <th><p>Totals</p></th>
                    <td><p>70</p></td>
                    <td><p>30</p></td>
                    <td><p>60</p></td>
                    <td><p>40</p></td>
                    <td><p>35</p></td>
                    <td><p>35</p></td>
                    <td><p>30</p></td>
                  </tr>
                </tbody>
              </table>
              <br/>
              <p class='question' name='bn-q15'>Click for solution.</p>
              <div class='answer' name='bn-q15'>
<pre class='prettyprint'>
  ; Step One: Compute probabilities
  Pr(A = 0) = 0.7
  Pr(A = 1) = 0.3
  
  Pr(B = 0) = 0.6
  Pr(B = 1) = 0.4
  
  Pr(C = 0) = 0.35
  Pr(C = 1) = 0.35
  Pr(C = 2) = 0.30
  
  ; ------------------------------------------
  ; Step Two: Compute entropies
  
  ; Variable A:
  ; Start with intermediary entropies on pos / neg
  Ent(A = 0) = E_A=0(30, 40)
             = -[30 / (30 + 40)] * log_2(30 / (30 + 40)]
               -[40 / (30 + 40)] * log_2(40 / (30 + 40)]
             = 0.985
             
  Ent(A = 1) = E_A=1(20, 10)
             = -[20 / (20 + 10)] * log_2(20 / (20 + 10)]
               -[10 / (20 + 10)] * log_2(10 / (20 + 10)]
             = 0.918
             
  Ent(A) = &Sigma; Pr(a) * Ent_a(p, n)
         a &in; A
         
         = 0.7 * 0.985 + 0.3 * 0.918
         = 0.965
         
  
  ; Variable B:
  Ent(B = 0) = E_B=0(25, 35)
             = -[25 / (25 + 35)] * log_2(25 / (25 + 35)]
               -[35 / (25 + 35)] * log_2(35 / (25 + 35)]
             = 0.980
             
  Ent(B = 1) = E_B=1(25, 15)
             = -[25 / (25 + 15)] * log_2(25 / (25 + 15)]
               -[15 / (25 + 15)] * log_2(15 / (25 + 15)]
             = 0.954
             
  Ent(B) = &Sigma; Pr(b) * Ent_b(p, n)
         b &in; B
         
         = 0.6 * 0.980 + 0.4 * 0.954
         = 0.970
         
         
  ; Variable C:
  Ent(C = 0) = E_C=0(20, 15)
             = -[20 / (20 + 15)] * log_2(20 / (20 + 15)]
               -[15 / (20 + 15)] * log_2(15 / (20 + 15)]
             = 0.985
             
  Ent(C = 1) = E_C=1(20, 15)
             = Ent(C = 1)
             = 0.985
             
  Ent(C = 2) = E_C=2(10, 20)
             = -[10 / (10 + 20)] * log_2(10 / (10 + 20)]
               -[20 / (10 + 20)] * log_2(20 / (10 + 20)]
             = 0.918
             
  Ent(C) = &Sigma; Pr(c) * Ent_c(p, n)
         c &in; C
         
         = 0.35 * 0.985 + 0.35 * 0.985 + 0.3 * 0.918
         = 0.965
         
  ; ------------------------------------------
  ; Decide the best split(s)
  
  ; Well, in this case, single node splits on both A
  ; and C are equally preferable (equivalent and lowest
  ; expected entropies, so long as we round to 3 SFs)!
  ; B, not so much... but close!
</pre>
              </div>
              
              <hr/><br/>
              <p class='example'>Determine whether or not the following patient who complains of weight loss, a cough, and NO headache might have lung cancer (which is more likely? L or &not;L?)</p>
              <br/>
              <div class='fit-pres text-center'>
                <img src='../../../assets/images/spring-2014/cs-161/final/final-23.PNG' />
              </div>
              <br/>
              <p class='question' name='bn-q16'>Click for solution.</p>
              <div class='answer' name='bn-q16'>
<pre class='prettyprint'>
  ; We start by assessing the probability
  ; that they do have cancer given their symptoms
    Pr(L = 1 | W = 1, C = 1, H = 0)
  &prop; Pr(W = 1 | L = 1) * Pr(C = 1 | L = 1) * Pr(H = 0 | L = 1) * Pr(L = 1)
  = 0.7 * 0.9 * 0.4 * 0.1
  = 0.0252
  
  ; Next, consider the case where they do NOT
  ; have cancer:
    Pr(L = 0 | W = 1, C = 1, H = 0)
  &prop; Pr(W = 1 | L = 0) * Pr(C = 1 | L = 0) * Pr(H = 0 | L = 0) * Pr(L = 0)
  = 0.15 * 0.1 * 0.75 * 0.9
  = 0.0101
  
  ; Therefore, we assume that based on our (incredibly insufficient)
  ; Naive Bayes network that it is more likely that the person has lung
  ; cancer than not, given their symptoms.
</pre>
              </div>
              
            </div>
            <hr/>
            
            <a class='btn btn-default pull-right hidden-print' href='javascript:window.print();'>
              <span class='glyphicon glyphicon-print'></span>
              &nbsp; PDF / Print
            </a>
            
          </div>
          <!-- END PRESENTATION CONTENT -->
          
          <!-- MATERIALS FROM CLASS: -->
          
            
        </div>
      </div>
      <!-- END MAIN CONTENT -->
      
      
    </div>
    <!-- END WRAPPER -->
    
    <!-- BEGIN FOOTER -->
    <div id="footer">
      <div class="container">
        <div class="col-md-12 text-center">
          
        </div>
      </div>
    </div>
    <!-- END FOOTER -->
    
  </body>
</html>
